<!DOCTYPE HTML>
<html>

<head>

  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,300,700' rel='stylesheet' type='text/css'> 
  <link href="css/projects.css" media="all" rel="stylesheet" type="text/css">
  <script type="text/javascript">
  	var loaded = false,
		timedOut = false;

		setTimeout(checkLoader, 2500);

		window.addEventListener('load', function () {
		  loaded = true;

		  // only fade the loader out if the load time has 
		  // taken longer than the pre-defined delay.
		  if (timedOut)
		    fadeLoaderOut();

		}, false);

		function checkLoader() {
		  timedOut = true;

		  // only fade out the loader after the pre defined delay
		  // if the page had loaded before the delay. 
		  if (loaded)
		    fadeLoaderOut();
		}

		function fadeLoaderOut() {
		  var body   = document.getElementById("body"),
		      loader = document.getElementById("loader"),
		      canvas = document.getElementById("container");

		  console.log("Fading loader out");
		  loader.className += " fade-out";
		  canvas.className += " fade-in";

		  init();
		  animate();

		  setTimeout(function() {
		    body.removeChild(loader);
		  }, 3000);
		}
  </script>		
</head>

<body id="body">
	<!-- ---------------- Custom Shader Code ------------------------ -->
	<script id="vertexShader" type="x-shader/x-vertex">
		uniform vec3 viewVector;
		uniform float c;
		uniform float p;
		varying float intensity;
		void main() 
		{
		    vec3 vNormal = normalize( normalMatrix * normal );
			vec3 vNormel = normalize( normalMatrix * viewVector );
			intensity = pow( c - dot(vNormal, vNormel), p );
			
		    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}
	</script>
	<!-- fragment shader a.k.a. pixel shader -->
	<script id="fragmentShader" type="x-shader/x-vertex"> 
		uniform vec3 glowColor;
		varying float intensity;
		void main() 
		{
			vec3 glow = glowColor * intensity;
		    gl_FragColor = vec4( glow, 1.0 );
		}
	</script>script


	<!-- LOADER -->
	<section id="loader" class="loader">
		<div class="clock">
		  <div class="clock_knob"></div>
		  <div class="clock_hand"></div>
		</div>
	</section>
	<!-- END LOADER -->


	<!-- MAIN CANVAS -->
	<div class="canvas" id="container" style="position: absolute; left:0px; top:0px">
		<video id="Enernoc" preload="auto" style="display:none">
			<source src="images/enernoc.mp4" >
		</video>
		<video id="Wolf Greenfield" preload="auto" style="display:none">
			<source src="images/wolf-greenfield.mp4" >
		</video>
		<video id="Copyright Clearance" preload="auto" style="display:none">
			<source src="images/copyright.mp4" >
		</video>
		<video id="Standish Mellon" preload="auto" style="display:none">
			<source src="images/standish.mp4" >
		</video>
		<video id="Zildjian Cymbals" preload="auto" style="display:none">
			<source src="images/zildjian.mp4" >
		</video>
		<video id="Father Peyton" preload="auto" style="display:none">
			<source src="images/father-peyton.mp4" >
		</video>
		<video id="College Culture" preload="auto" style="display:none">
			<source src="images/father-peyton.mp4" >
		</video>
		<video id="IHA Today" preload="auto" style="display:none">
			<source src="images/father-peyton.mp4" >
		</video>

		<aside class="project-preview">
			<img id="previewImg"  />
		</aside>
		<aside id="teaser" class="project-teaser">
			<h2 id="teaserName" class="project-teaser--name">project title</h2>
			<p class="project-teaser--description">Lorem ipsum dolor sit amet, pri assentior temporibus liberavisse in, ad nec mazim euripidis definitionem. Omnes repudiandae neglegentur et qui, augue primis epicurei ea mei. Cu has persecuti incorrupte, cum augue partiendo ocurreret id, te sit nibh causae imperdiet. Epicurei eleifend platonem no vix.
			Illud homero duo ei. Accusam mentitum noluisse ne mel. Mandamus definiebas efficiantur at has, ea duo omnis latine. Graecis nominati vix cu. Nam no alterum antiopam.</p>
		</aside>
	</div>
	<!-- END MAIN CANVAS -->

	<!-- PROJECT INTRO -->
	<section class="project-intro">
		<aside id="backBtn" class="back-btn"><</aside>
		<aside class="scroll-arrow"></aside>
		
		<h1 id="projectTitle">Project Title</h1>
		<img class="intro-img" src="images/projects/zildjian.png"/>
		<p class="intro-description">
			Lorem ipsum dolor sit amet, pri assentior temporibus liberavisse in, ad nec mazim euripidis definitionem. Omnes repudiandae neglegentur et qui, augue primis epicurei ea mei. Cu has persecuti incorrupte, cum augue partiendo ocurreret id, te sit nibh causae imperdiet. Epicurei eleifend platonem no vix.
			Illud homero duo ei. Accusam mentitum noluisse ne mel. Mandamus definiebas efficiantur at has, ea duo omnis latine. Graecis nominati vix cu. Nam no alterum antiopam.
		</p>
	</section>
	<!-- END PROJECT INTRO -->

	<!-- PROJECT DETAILS -->
	<section class="project-details">
		<div class="detail-section"></div>
		<div class="detail-section"></div>
	</section>
	<!-- END PROJECT DETAILS 1 -->

	<script type="text/javascript" src="js/jquery.js"></script>
	<script src="http://threejs.org/build/three.min.js"></script>
	<script type="text/javascript" src="http://sole.github.io/tween.js/build/tween.min.js"></script>
	<script type="text/javascript" src="js/orbit-controls.js"></script>
	<script type="text/javascript" src="js/keyboard-state.js"></script>
	<script type="text/javascript" src="js/fullscreen.js"></script>
	<script type="text/javascript" src="js/resize.js"></script>
	<script type="text/javascript" src="js/detector.js"></script>
	<script type="text/javascript" src="js/deviceControls.js"></script>
	<script type="text/javascript" src="js/portfolio.js"></script>
</body>

</html>